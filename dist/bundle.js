(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));const c=function(c,r,a){if(e.randomUUID&&!r&&!c)return e.randomUUID();const l=(c=c||{}).random??c.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(n)}();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,r){if((a=a||0)<0||a+16>r.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[a+e]=l[e];return r}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(l)};let r=[];var a=document.getElementById("myModal");const l=[document.querySelector(".close"),document.querySelector("#modal-no"),document.querySelector("#modal-cancel")],i=()=>{a.style.display="none"};let d;function s(e,t){document.getElementById("modal-title").innerHTML=e;const n=document.getElementById("modal-button");d&&n.removeEventListener("click",d);const o=e=>{t(),i()};d=o,n.addEventListener("click",o),a.style.display="block"}l.forEach((e=>{e&&(console.log("sant"),e.addEventListener("click",(()=>{i()})))})),window.onclick=function(e){e.target==a&&i()},document.getElementById("bucketForm").addEventListener("submit",(function(e){e.preventDefault();const t=e.target;t.reportValidity()&&t.reset()}));const u={id:"",name:"",category:"Ingen kategori",status:!1};function m(e,t,n){const o=Object.create(u),r=c();return o.id=r,o.name=e,o.category=t,o.status=n,o}function g(){const e=document.getElementById("bucketLists");e.innerHTML="",[...new Set(r.map((e=>e.category)))].forEach((t=>{!function(e,t,n){e.appendChild((()=>{const e=document.createElement("h2");return e.innerHTML=t,e})());const o=e.appendChild(document.createElement("ul"));n.forEach((e=>{o.appendChild(function(e){const t=document.createElement("li"),n=document.createElement("input");n.setAttribute("type","checkbox"),n.checked=e.status,n.addEventListener("change",(t=>{var n,o;n=e.id,o=t.target.checked,r.forEach(((e,t)=>{e.id===n&&(r[t]={...e,status:o})})),f(r)}));const o=document.createElement("input");o.setAttribute("type","button"),o.value="üóô",o.addEventListener("click",(()=>{s(`Really delete activity? ${e.name}`,(()=>{var t;t=e.id,r.splice(r.findIndex((e=>e.id===t)),1),f(r),g()}))}));const c=document.createElement("p");return c.innerHTML=e.name,t.appendChild(c),t.appendChild(n),t.appendChild(o),t}(e))}))}(e,t,r.filter((e=>e.category===t)))}))}function y(e){r.push(e),f(r)}document.getElementById("bucketForm").querySelector('button[type="submit"]').addEventListener("click",(e=>{y(m(document.getElementById("activityName").value.trim(),document.getElementById("activityCategory").value,!1)),g()})),document.querySelector("#btn_clear").addEventListener("click",(e=>{s("Really clear ALL activities? (note: refreshing page directly after a reset re-adds test-data again)",(()=>{localStorage.clear(),r=[],console.log("cleared localStorage"),g()}))})),console.log("localStorage √§r just nu:"),console.log(localStorage.getItem("ActivitySave"));const p=function(e){const t=Object.create(u);return Object.assign(t,e),t};if(null==localStorage.getItem("ActivitySave"))console.log("first time visiting"),console.log("adding test items"),y(m("Japan","Resor",!1)),y(m("USA","Resor",!1)),y(m("England","Resor",!1)),y(m("Lexicon frontend React","L√§rande",!1)),y(m("Lexicon .NET p√•byggnad","L√§rande",!0));else{console.log("welcome back"),console.log("get JSON from localStorage");let e=localStorage.getItem("ActivitySave");console.log(e),console.log("parse JSON from localStorage");let t=JSON.parse(e);r=t.map(p)}function f(e){console.log("sparar i localStorage"),localStorage.setItem("ActivitySave",JSON.stringify(e))}g()})();